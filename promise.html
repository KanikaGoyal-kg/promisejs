<html>
    <head>
        <title></title>
    </head>
    <body>
        <script>
            const pob1 = new Promise((resolve, reject) => {
                setTimeout( () => {
                    let roll_no = [1, 2, 3, 4, 5];
                    resolve(roll_no);
                    reject("Error while communicating"); //If promis is not completed
                                                          //this error will shown
                }, 2000);
            })

            const getBiodata = (indexData) => {
                return new Promise( (resolve, reject) => {
                    setTimeout( (indexData) => {
                        let biodata = {
                            name: 'vinod',
                            age: 24
                        }
                        resolve(`My Roll no is ${indexData}. My name is ${biodata.name} and I am ${biodata.age} years old`)
                    }, 2000, indexData)
                })
            }
            // pob1.then( (rollno) => {   //this is used for resolve case in promise statement
            //     console.log(rollno);
            //     getBiodata(rollno[1]).then( (data) => {
            //         console.log(data);
            //     });
            // }) .catch( (error) => {
            //     console.log(error);
            // })  //then is used to produce the promise

            //Or we can write the above commented code through async await

            async function getData() {   //Here async will ask our function to return promise not the value
               const rollnoData = await pob1; 
               console.log(rollnoData);

               const biodatatask = await getBiodata(rollnoData[1]);
               console.log(biodatatask);

               return biodatatask;
            };
            // const getname = getData();
            // console.log(getname)

            //or we can do

            const getname = getData().then((myname) => {
                console.log(myname);
            });

            //Error Handeling 
            async function getData() {   //Here async will ask our function to return promise not the value

            try{
                const rollnoData = await pob1; 
               console.log(rollnoData);

               const biodatatask = await getBiodata(rollnoData[1]);
               console.log(biodatatask);

               return biodatatask; 
            } catch(error) {
                console.log(`The Error: ${error}`);
            };
        };
        </script>
    </body>
</html>